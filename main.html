<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Beta 2</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <style>
        #field{
            margin-left: 50%;
            transform: translateX(-50%);
            border: 2px solid black;
        }
        html, body{
            overflow-x: hidden;
        }
        .tip{
            padding: 5px; 
            color: white;
        }
        .fwd{
            background-color: #00B050;
        }
        .at{
            background-color: #FF0000;
        }
    </style>
</head>
<body>
    <canvas id="field" width="1200" height="600"></canvas>
    <p class="container">
            <span class="tip fwd">Первая цена FWD</span>
            <span class="tip at">Первая цена AT</span>
    </p>
    <div class="modal fade" id="dataModal">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ name }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p><strong>Модель:</strong> {{ model }}</p>
                <p><strong>Цена:</strong> {{ price }}&#8381;</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary">Купить</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
            </div>
            </div>
        </div>
    </div>
    <script src="graphic.js"></script>
    <script>
        const data = [
            {model: 'Atlas', name: 'Base 2.0P 139 MT6 FWD', drive: 'FWD', price: 1401990},
            {model: 'Atlas', name: 'Luxury Yandex 2.4P 149 AT6 4WD', drive: '4WD', price: 1816990},
            {model: 'Atlas', name: 'Comfort 1.8PT 184 AT6 FWD', drive: 'FWD', price: 1751990},
            {model: 'Atlas', name: 'Luxury+LED 1.8PT 184 AT6 4WD', drive: '4WD', price: 1931990},
            {model: 'Atlas', name: 'Luxury+LED 2.4P 149 AT6 4WD', drive: '4WD', price: 1801990},
            {model: 'Atlas', name: 'Luxury+LED 2.4P 149 AT6 FWD', drive: 'FWD', price: 1711990},
            {model: 'F7', name: 'Comfort 1.5PT 150 DCT7 FWD', drive: 'FWD', price: 1559000},
            {model: 'F7', name: 'Premium 1.5 1.5PT 150 DCT7 4WD', drive: '4WD', price: 1849000},
            {model: 'F7', name: 'Elite 1.5PT 150 DCT7 FWD', drive: 'FWD', price: 1649000},
            {model: 'F7', name: 'Premium 2.0 2.0PT 190 DCT7 4WD', drive: '4WD', price: 1989000},
            {model: 'F7', name: 'Elite 1.5PT 150 DCT7 4WD', drive: '4WD', price: 1749000},
            {model: 'F7', name: 'Tech Plus 2.0PT 190 DCT7 4WD', drive: '4WD', price: 2059000},
            {model: 'Creta New', name: 'Classic 2WD 1.6P 123 MT6 FWD', drive: 'FWD', price: 1270000},
            {model: 'Creta New', name: 'Classic 4WD 1.6P 121 MT6 4WD', drive: '4WD', price: 1350000},
            {model: 'Creta New', name: 'Lifestyle MT 1.6P 123 MT6 FWD', drive: 'FWD', price: 1450000},
            {model: 'Creta New', name: 'Prestige 2.0P 150 AT6 4WD', drive: '4WD', price: 1900000},
            {model: 'Creta New', name: 'Lifestyle AT 4WD 1.6P 121 AT6 4WD', drive: '4WD', price: 1595000},
            {model: 'Creta New', name: 'Prime 1.6P 123 AT6 FWD', drive: 'FWD', price: 1264000},
            {model: 'Seltos', name: 'Luxe AT FWD 21MY 2.0P 149 CVT8 FWD', drive: 'FWD', price: 1564900},
            {model: 'Seltos', name: 'Premium 21MY 2.0P 149 CVT8 4WD', drive: '4WD', price: 2024900},
            {model: 'Seltos', name: 'Classic AT 21MY 1.6P 123 AT6 FWD', drive: 'FWD', price: 1339900},
            {model: 'Seltos', name: 'Edition Plus 4WD 21MY 2.0P 149 CVT8 4WD', drive: '4WD', price: 1696900},
            {model: 'Seltos', name: 'Comfort AT FWD 21MY 1.6P 123 AT6 FWD', drive: 'FWD', price: 1409900},
            {model: 'Seltos', name: 'Luxe AT 4WD 21MY 1.6P 121 AT6 4WD', drive: '4WD', price: 1604900},
            {model: 'Sportage', name: 'Classic+WP AT FWD 21MY 2.0P 150 AT6 FWD', drive: 'FWD', price: 1814900},
            {model: 'Sportage', name: 'Premium Black Edition 21MY 2.4P 184 AT6 4WD', drive: '4WD', price: 2594900},
            {model: 'Sportage', name: 'Comfort AT FWD 21MY 2.0P 150 AT6 FWD', drive: 'FWD', price: 1899900},
            {model: 'Sportage', name: 'Luxe MT 4WD 21MY 2.0P 150 MT6 4WD', drive: '4WD', price: 1989900},
            {model: 'Sportage', name: 'Luxe AT FWD 21MY 2.0P 150 AT6 FWD', drive: 'FWD', price: 1949900},
            {model: 'Sportage', name: 'GT Line 21MY 2.4P 184 AT6 4WD', drive: '4WD', price: 2484900},
            {model: 'Qashqai', name: 'LE Coffee 4WD MY21 2.0P 144 CVT6 4WD', drive: '4WD', price: 2169000},
            {model: 'Qashqai', name: 'LE Top Coffee 2.0P 144 CVT6 FWD', drive: 'FWD', price: 2081000},
            {model: 'Qashqai', name: 'SE+ 4WD MY21 2.0P 144 CVT6 4WD', drive: '4WD', price: 2039000},
            {model: 'Qashqai', name: 'SE+ 1.2PT MY21 1.2PT 115 MT6 FWD', drive: 'FWD', price: 1741000},
            {model: 'Qashqai', name: 'LE Yandex Coffee 4WD 2.0P 144 CVT6 4WD', drive: '4WD', price: 2137000},
            {model: 'Qashqai', name: 'LE MY21 2.0P 144 CVT6 FWD', drive: 'FWD', price: 2077000},
            {model: 'Arkana', name: 'LE Pulse 4WD 21MY 1.3PT 150 CVT7 4WD', drive: '4WD', price: 1797000},
            {model: 'Arkana', name: 'Life 21MY 1.6P 114 MT5 FWD', drive: 'FWD', price: 1286000},
            {model: 'Arkana', name: 'Prime 4WD 21MY 1.3PT 150 CVT7 4WD', drive: '4WD', price: 1812000},
            {model: 'Arkana', name: 'Style TCE 21MY 1.3PT 150 CVT7 FWD', drive: 'FWD', price: 1622000},
            {model: 'Arkana', name: 'Style 4WD 21MY 1.6P 114 MT6 4WD', drive: '4WD', price: 1537000},
            {model: 'Arkana', name: 'Drive 21MY 1.6P 114 MT5 FWD', drive: 'FWD', price: 1356000},
        ];
        var app = new Vue({
            el: '#dataModal',
            data: {model: '', name: '', price: ''}
        });
        function show(auto){
            Object.assign(app, auto);
            let modal = new bootstrap.Modal(document.getElementById('dataModal'), {});
            modal.show();
        }
        document.addEventListener("DOMContentLoaded", function(){
            const canvas = document.getElementById('field');
            let gr = new Graphic(canvas, {
                model_field: 'model',
                price_field: 'price',
                drive_field: 'drive',
                text_color: '#222222',
                lines_color: '#AAAAAA',
                circles_color: '#555555',
                first_drives: [
                    {drive: 'FWD', color: '#00B050'},
                    {drive: '4WD', color: '#FF0000'}
                ],
                radius: 8
            });
            gr.init(data);
            gr.setClickCallback(show);
            gr.draw()
        });
            
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</body>
</html>